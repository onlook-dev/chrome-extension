import{h as c,i as n,j as a,k as l,l as u,m as d,n as b}from"./constants.Wy146ReZ.js";async function f(s,t,o){try{const e=JSON.parse(JSON.stringify(t));return o?(await a(n(c,s,o),e,{merge:!0}),o):(await u(l(c,s),e)).id}catch(e){console.error(`Error adding document to collection ${s}`,e)}}async function h(s,t){const o=await n(c,s,t),e=await d(o);if(e.exists())return e.data();console.error(`No such document with ID: ${t} in collection ${s}`)}async function w(s,t){const o=n(c,s,t);return await a(o,{})}async function m(s,t,o){const e=n(c,s,t);return b(e,i=>{i.exists()?o(i.data()):console.error(`No such document with ID: ${t} in collection ${s}`)})}class g{constructor(t){this.collection=t}async get(t){return await h(this.collection,t)}async post(t){const o=await f(this.collection,t,t.id);return console.log(`Posted object to ${this.collection}`),o}async subscribe(t,o){return await m(this.collection,t,o)}async delete(t){await w(this.collection,t)}}export{g as F};
